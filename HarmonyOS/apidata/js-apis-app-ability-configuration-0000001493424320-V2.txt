您正在浏览HarmonyOS开发者3.1/4.0版本配套的开发者文档，对应API能力级别为API 9 Release，详细版本配套关系请参考版本说明。@ohos.app.ability.Configuration (Configuration) 更新时间: 2024-03-18 17:33 毫无帮助帮助不大一般很好非常好
分享
 定义环境变化信息。Configuration是接口定义，仅做字段声明。 
说明
本模块首批接口从API version 9开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。 
 系统能力：以下各项对应的系统能力均为SystemCapability.Ability.AbilityBase 名称  类型  可读  可写  说明    language  string  是  是  表示应用程序的当前语言。例如：zh。   colorMode  ColorMode  是  是  表示深浅色模式，取值范围：未设置(COLOR_MODE_NOT_SET)，浅色模式（COLOR_MODE_LIGHT），深色模式（COLOR_MODE_DARK）。默认为浅色。   direction  Direction  是  否  表示屏幕方向，取值范围：未设置(DIRECTION_NOT_SET)，水平方向（DIRECTION_HORIZONTAL），垂直方向（DIRECTION_VERTICAL）。   screenDensity  ScreenDensity  是  否  表示屏幕像素密度，取值范围：未设置(SCREEN_DENSITY_NOT_SET)，SCREEN_DENSITY_SDPI（120）、SCREEN_DENSITY_MDPI（160）、SCREEN_DENSITY_LDPI（240）、SCREEN_DENSITY_XLDPI（320）、SCREEN_DENSITY_XXLDPI（480）、SCREEN_DENSITY_XXXLDPI（640）。   displayId  number  是  否  表示应用所在的物理屏幕Id。   hasPointerDevice  boolean  是  否  指示指针类型设备是否已连接，如键鼠、触控板等。     具体字段描述参考ohos.app.ability.Configuration.d.ts文件 示例： 已复制import UIAbility from '@ohos.app.ability.UIAbility';
let callbackId;
export default class EntryAbility extends UIAbility {  onCreate() {    console.log('MyAbility onCreate')    globalThis.applicationContext = this.context.getApplicationContext();    let environmentCallback = {      onConfigurationUpdated(config){        console.log('onConfigurationUpdated config: ${JSON.stringify(config)}');      },      onMemoryLevel(level){        console.log('onMemoryLevel level: ${level}');      }    };    // 1.获取applicationContext    let applicationContext = globalThis.applicationContext;    // 2.通过applicationContext注册监听系统环境变化    callbackId = applicationContext.on('environment', environmentCallback);    console.log('registerEnvironmentCallback callbackId: ${callbackId}');  }}  上一篇 @ohos.app.ability.appRecovery (appRecovery) 下一篇 @ohos.app.ability.ConfigurationConstant (ConfigurationConstant) 以上内容对您是否有帮助？毫无帮助帮助不大一般很好非常好意见反馈
更多帮助请到“社区论坛”，如需要其他帮助，请通过“智能客服”提问。