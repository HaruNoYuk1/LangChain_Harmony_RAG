您正在浏览HarmonyOS开发者3.1/4.0版本配套的开发者文档，对应API能力级别为API 9 Release，详细版本配套关系请参考版本说明。权限列表子组件属性样式事件方法示例xcomponent 更新时间: 2024-03-18 17:33 毫无帮助帮助不大一般很好非常好
分享
说明
该组件从API Version 8 开始支持。后续版本如有新增内容，则采用上角标单独标记该内容的起始版本。 
 用于显示写入了EGL/OpenGLES或媒体数据的组件。 权限列表无  子组件不支持。  属性除支持通用属性外，还支持如下属性： 名称  参数类型  必填  描述    id  string  是  组件的唯一标识，支持最大的字符串长度128。   type  string  是  用于指定xcomponent组件类型，可选值为： - surface：组件内容单独送显，直接合成到屏幕。 - component：组件内容与其他组件合成后统一送显。   libraryname  string  否  应用Native层编译输出动态库名称。      样式支持通用样式。  事件除支持通用事件外，还支持如下事件：  名称  功能描述  onLoad(context?: object) => void  插件加载完成时回调事件。 context：开发者扩展的xcomponent方法的实例对象，context对象的接口由开发者自定义。   onDestroy() => void  插件卸载完成时回调事件。      方法除支持通用方法外，还支持如下方法： 名称  参数  返回值类型  描述    getXComponentSurfaceId  -  string  获取xcomponent对应Surface的ID，供@ohos接口使用，比如媒体相关接口。   setXComponentSurfaceSize  { surfaceWidth: number, surfaceHeight: number }  -  设置xcomponent持有Surface的宽度和高度。   getXComponentContext  -  object  获取开发者扩展的xcomponent方法的实例对象。      示例提供surface类型xcomponent，支持视频播放等能力。 已复制<!-- xxx.hml --><div style="height: 500px; width: 500px; flex-direction: column; justify-content: center; align-items: center;">    <text id = 'video' class = 'title'>video_player</text>    <xcomponent id = 'xcomponent' type = 'surface' onload = 'onload' ondestroy = 'ondestroy'></xcomponent></div> 已复制// xxx.jsimport media from "@ohos.multimedia.media"
export default {    onload() {        let videoPlayer = undefined;        var surfaceId = this.$element("xcomponent").getXComponentSurfaceId();        media.createAVPlayer().then((video) => {            if (typeof (video) != 'undefined') {                console.info('createVideoPlayer success!');                videoPlayer = video;            } else {                console.info('createVideoPlayer fail!');            }        })        if (typeof (videoPlayer) != 'undefined') {            videoPlayer.setDisplaySurface(surfaceId).then(() => {                console.info('setDisplaySurface success');            })        }    }}   上一篇 web 下一篇 媒体组件 以上内容对您是否有帮助？毫无帮助帮助不大一般很好非常好意见反馈
更多帮助请到“社区论坛”，如需要其他帮助，请通过“智能客服”提问。