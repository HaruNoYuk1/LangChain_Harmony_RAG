您正在浏览HarmonyOS开发者3.1/4.0版本配套的开发者文档，对应API能力级别为API 9 Release，详细版本配套关系请参考版本说明。导入模块使用说明Hash.hashHash.hash@ohos.file.hash (文件哈希处理) 更新时间: 2024-03-18 17:33 毫无帮助帮助不大一般很好非常好
分享
 该模块提供文件哈希处理能力，对文件内容进行哈希处理。 
说明
本模块首批接口从API version 9开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。 
 导入模块已复制import Hash from '@ohos.file.hash';  使用说明使用该功能模块对文件/目录进行操作前，需要先获取其应用沙箱路径，获取方式及其接口用法请参考： Stage模型 已复制import UIAbility from '@ohos.app.ability.UIAbility';
export default class EntryAbility extends UIAbility {   onWindowStageCreate(windowStage) {       let context = this.context;       let pathDir = context.filesDir;   }} FA模型 已复制import featureAbility from '@ohos.ability.featureAbility';
let context = featureAbility.getContext();context.getFilesDir().then((data) => {     let pathDir = data;}) FA模型context的具体获取方法参见FA模型。  Hash.hashhash(path: string, algorithm: string): Promise<string> 计算文件的哈希值，使用Promise异步回调。 系统能力：SystemCapability.FileManagement.File.FileIO 参数： 参数名  类型  必填  说明    path  string  是  待计算哈希值文件的应用沙箱路径。   algorithm  string  是  哈希计算采用的算法。可选 "md5"、"sha1" 或 "sha256"。建议采用安全强度更高的 "sha256"。     返回值：  类型  说明  Promise<string>  Promise对象。返回文件的哈希值。表示为十六进制数字串，所有字母均大写。     错误码： 以下错误码的详细介绍请参见基础文件IO错误码。  错误码ID  错误信息  13900020  Invalid argument   13900042  Unknown error     示例： 已复制let filePath = pathDir + "/test.txt";Hash.hash(filePath, "sha256").then((str) => {  console.info("calculate file hash succeed:" + str);}).catch((err) => {  console.error("calculate file hash failed with error message: " + err.message + ", error code: " + err.code);});  Hash.hashhash(path: string, algorithm: string, callback: AsyncCallback<string>): void 计算文件的哈希值，使用callback异步回调。 系统能力：SystemCapability.FileManagement.File.FileIO 参数： 参数名  类型  必填  说明    path  string  是  待计算哈希值文件的应用沙箱路径。   algorithm  string  是  哈希计算采用的算法。可选 "md5"、"sha1" 或 "sha256"。建议采用安全强度更高的 "sha256"。   callback  AsyncCallback<string>  是  异步计算文件哈希操作之后的回调函数（其中给定文件哈希值表示为十六进制数字串，所有字母均大写）。     错误码： 以下错误码的详细介绍请参见基础文件IO错误码。  错误码ID  错误信息  13900020  Invalid argument   13900042  Unknown error     示例： 已复制let filePath = pathDir + "/test.txt";Hash.hash(filePath, "sha256", (err, str) => {  if (err) {    console.error("calculate file hash failed with error message: " + err.message + ", error code: " + err.code);  } else {    console.info("calculate file hash succeed:" + str);  }});   上一篇 @ohos.file.fs (文件管理) 下一篇 @ohos.file.picker (选择器) 以上内容对您是否有帮助？毫无帮助帮助不大一般很好非常好意见反馈
更多帮助请到“社区论坛”，如需要其他帮助，请通过“智能客服”提问。