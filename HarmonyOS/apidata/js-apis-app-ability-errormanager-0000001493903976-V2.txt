您正在浏览HarmonyOS开发者3.1/4.0版本配套的开发者文档，对应API能力级别为API 9 Release，详细版本配套关系请参考版本说明。导入模块ErrorManager.onErrorManager.offErrorManager.off@ohos.app.ability.errorManager (ErrorManager) 更新时间: 2024-03-18 17:33 毫无帮助帮助不大一般很好非常好
分享
 ErrorManager模块提供对错误观察器的注册和注销的能力。 
说明
 本模块首批接口从API version 9开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。 
 导入模块已复制import errorManager from '@ohos.app.ability.errorManager'  ErrorManager.onon(type: 'error', observer: ErrorObserver): number; 注册错误观测器。 系统能力：SystemCapability.Ability.AbilityRuntime.Core 参数： 参数名 类型 必填 说明   type string 是 调用接口类型  observer ErrorObserver 是 返回观察者的数字代码。    示例： 已复制let observer = {    onUnhandledException(errorMsg) {        console.log('onUnhandledException, errorMsg: ', errorMsg)    }};try {    errorManager.on('error', observer);} catch (paramError) {    console.log('error: ' + paramError.code + ', ' + paramError.message);}  ErrorManager.offoff(type: 'error', observerId: number, callback: AsyncCallback<void>): void; 注销错误观测器。 系统能力：SystemCapability.Ability.AbilityRuntime.Core 参数： 参数名 类型 必填 说明   type string 是 调用接口类型  observerId number 是 返回观察者的数字代码。  callback AsyncCallback<void> 是 表示指定的回调方法。    示例： 已复制let observerId = 100;
function unregisterErrorObserverCallback(err) {    if (err) {        console.log('------------ unregisterErrorObserverCallback ------------', err);    }}try {    errorManager.off('error', observerId, unregisterErrorObserverCallback);} catch (paramError) {    console.log('error: ' + paramError.code + ', ' + paramError.message);}  ErrorManager.offoff(type: 'error', observerId: number): Promise<void>; 注销错误观测器。 系统能力：SystemCapability.Ability.AbilityRuntime.Core 参数： 参数名 类型 必填 说明   type string 是 调用接口类型  observerId number 是 返回观察者的数字代码。    返回值：  类型 说明 Promise<void> 返回执行结果。    示例： 已复制let observerId = 100;try {    errorManager.off('error', observerId)        .then((data) => {            console.log('----------- unregisterErrorObserver success ----------', data);        })        .catch((err) => {            console.log('----------- unregisterErrorObserver fail ----------', err);    });} catch (paramError) {    console.log('error: ' + paramError.code + ', ' + paramError.message);}   上一篇 @ohos.app.ability.dialogRequest (dialogRequest模块) 下一篇 @ohos.app.ability.Want (Want) 以上内容对您是否有帮助？毫无帮助帮助不大一般很好非常好意见反馈
更多帮助请到“社区论坛”，如需要其他帮助，请通过“智能客服”提问。