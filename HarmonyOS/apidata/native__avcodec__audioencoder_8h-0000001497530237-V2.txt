您正在浏览HarmonyOS开发者3.1/4.0版本配套的开发者文档，对应API能力级别为API 9 Release，详细版本配套关系请参考版本说明。概述汇总函数native_avcodec_audioencoder.h 更新时间: 2024-02-07 14:08 毫无帮助帮助不大一般很好非常好
分享
  概述声明用于音频编码的Native API。 起始版本： 9 相关模块: AudioEncoder  汇总 函数  名称 描述 OH_AudioEncoder_CreateByMime (const char *mime) 通过mime类型创建一个音频编码器实例，大多数情况下推荐使用该接口。  OH_AudioEncoder_CreateByName (const char *name) 通过音频编码器名称创建一个音频编码器实例，使用这个接口的前提是必须清楚编码器准确的名称。  OH_AudioEncoder_Destroy (OH_AVCodec *codec) 清空编码器内部资源，并销毁编码器实例。  OH_AudioEncoder_SetCallback (OH_AVCodec *codec, OH_AVCodecAsyncCallback callback, void *userData) 设置异步回调函数，使得你的应用能够响应音频编码器产生的事件，该接口被调用必须是在Prepare被调用前。  OH_AudioEncoder_Configure (OH_AVCodec *codec, OH_AVFormat *format) 配置音频编码器，典型地，需要配置被编码音频轨道的描述信息，该接口被调用必须是在Prepare被调用前。  OH_AudioEncoder_Prepare (OH_AVCodec *codec) 准备编码器内部资源，调用该接口前必须先调用Configure接口。  OH_AudioEncoder_Start (OH_AVCodec *codec) 启动编码器，该接口必须在已经Prepare成功后调用。 在启动成功后，编码器将开始报告OH_AVCodecOnNeedInputData事件。  OH_AudioEncoder_Stop (OH_AVCodec *codec) 停止编码器。在停止后可通过Start重新进入Started状态。  OH_AudioEncoder_Flush (OH_AVCodec *codec) 清空编码器内部缓存的输入输出数据。在该接口被调用后，所有先前通过异步回调报告的Buffer的索引都将 失效，确保不要再访问这些索引对应的Buffers。  OH_AudioEncoder_Reset (OH_AVCodec *codec) 重置编码器。如需继续编码工作，需要重新调用Configure接口以配置该编码器实例。  OH_AudioEncoder_GetOutputDescription (OH_AVCodec *codec) 获取该编码器输出数据的描述信息，需要注意的是，返回值所指向的OH_AVFormat实例需调用者手动释放。  OH_AudioEncoder_SetParameter (OH_AVCodec *codec, OH_AVFormat *format) 向编码器设置动态参数，注意：该接口仅能在编码器被启动后调用，同时错误的参数设置，可能会导致编码失败。  OH_AudioEncoder_PushInputData (OH_AVCodec *codec, uint32_t index, OH_AVCodecBufferAttr attr) 将填充好数据的输入Buffer提交给音频编码器。OH_AVCodecOnNeedInputData回调会报告可用的输入 Buffer及对应的索引值。一旦指定索引的Buffer被提交给编码器，直到再一次收到OH_AVCodecOnNeedInputData 回调报告相同索引的Buffer可用前，该Buffer都不可以再次被访问。  OH_AudioEncoder_FreeOutputData (OH_AVCodec *codec, uint32_t index) 将处理结束的输出Buffer交还给编码器。      上一篇 native_avcodec_audiodecoder.h 下一篇 native_avcodec_base.h 以上内容对您是否有帮助？毫无帮助帮助不大一般很好非常好意见反馈
更多帮助请到“社区论坛”，如需要其他帮助，请通过“智能客服”提问。