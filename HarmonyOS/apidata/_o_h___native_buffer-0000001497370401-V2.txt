您正在浏览HarmonyOS开发者3.1/4.0版本配套的开发者文档，对应API能力级别为API 9 Release，详细版本配套关系请参考版本说明。汇总文件结构体类型定义函数类型定义说明OH_NativeBuffer函数说明OH_NativeBuffer_Alloc()OH_NativeBuffer_GetConfig()OH_NativeBuffer_GetSeqNum()OH_NativeBuffer_Map()OH_NativeBuffer_Reference()OH_NativeBuffer_Unmap()OH_NativeBuffer_Unreference()OH_NativeBuffer 更新时间: 2024-02-07 14:08 毫无帮助帮助不大一般很好非常好
分享
 提供NativeBuffer功能，通过提供的接口，可以实现共享内存的申请、使用、属性查询、释放等操作。 @syscap SystemCapability.Graphic.Graphic2D.NativeBuffer 起始版本： 9 汇总 文件  文件名称  描述  native_buffer.h  定义获取和使用NativeBuffer的相关函数。 引用文件：<native_buffer/native_buffer.h> 库： libnative_buffer.so      结构体  结构体名称  描述  OH_NativeBuffer_Config  OH_NativeBuffer的属性配置，用于申请新的OH_NativeBuffer实例或查询现有实例的相关属性。      类型定义  名称  描述  OH_NativeBuffer  提供OH_NativeBuffer结构体声明。      函数  函数名称  描述  OH_NativeBuffer_Alloc (const OH_NativeBuffer_Config *config)  通过OH_NativeBuffer_Config创建OH_NativeBuffer实例，每次调用都会产生一个新的OH_NativeBuffer实例。   OH_NativeBuffer_Reference (OH_NativeBuffer *buffer)  将OH_NativeBuffer对象的引用计数加1。   OH_NativeBuffer_Unreference (OH_NativeBuffer *buffer)  将OH_NativeBuffer对象的引用计数减1，当引用计数为0的时候，该NativeBuffer对象会被析构掉。   OH_NativeBuffer_GetConfig (OH_NativeBuffer *buffer, OH_NativeBuffer_Config *config)  用于获取OH_NativeBuffer的属性。   OH_NativeBuffer_Map (OH_NativeBuffer *buffer, void **virAddr)  将OH_NativeBuffer对应的ION内存映射到进程空间。   OH_NativeBuffer_Unmap (OH_NativeBuffer *buffer)  将OH_NativeBuffer对应的ION内存从进程空间移除。   OH_NativeBuffer_GetSeqNum (OH_NativeBuffer *buffer)  获取OH_NativeBuffer的序列号。      类型定义说明 OH_NativeBuffer已复制typedef struct OH_NativeBuffer OH_NativeBuffer 描述: 提供OH_NativeBuffer结构体声明。  函数说明 OH_NativeBuffer_Alloc()已复制OH_NativeBuffer* OH_NativeBuffer_Alloc (const OH_NativeBuffer_Config * config) 描述： 通过OH_NativeBuffer_Config创建OH_NativeBuffer实例，每次调用都会产生一个新的OH_NativeBuffer实例 @syscap SystemCapability.Graphic.Graphic2D.NativeBuffer 参数：  Name  描述  config  一个指向OH_NativeBuffer_Config类型的指针。     返回： 创建成功则返回一个指向OH_NativeBuffer结构体实例的指针，否则返回NULL 起始版本： 9  OH_NativeBuffer_GetConfig()已复制void OH_NativeBuffer_GetConfig (OH_NativeBuffer * buffer, OH_NativeBuffer_Config * config ) 描述： 用于获取OH_NativeBuffer的属性 @syscap SystemCapability.Graphic.Graphic2D.NativeBuffer 参数：  Name  描述  buffer  一个指向OH_NativeBuffer实例的指针。   config  一个指向OH_NativeBuffer_Config的指针，用于接收OH_NativeBuffer的属性。     起始版本： 9  OH_NativeBuffer_GetSeqNum()已复制uint32_t OH_NativeBuffer_GetSeqNum (OH_NativeBuffer * buffer) 描述： 获取OH_NativeBuffer的序列号 @syscap SystemCapability.Graphic.Graphic2D.NativeBuffer 参数：  Name  描述  buffer  一个指向OH_NativeBuffer实例的指针。     返回： 返回对应OH_NativeBuffer的唯一序列号。 起始版本： 9  OH_NativeBuffer_Map()已复制int32_t OH_NativeBuffer_Map (OH_NativeBuffer * buffer, void ** virAddr ) 描述： 将OH_NativeBuffer对应的ION内存映射到进程空间 @syscap SystemCapability.Graphic.Graphic2D.NativeBuffer 参数：  Name  描述  buffer  一个指向OH_NativeBuffer实例的指针。   virAddr  一个二级指针，二级指针指向映射到当前进程的虚拟内存的地址     返回： 返回值为0表示执行成功。 起始版本： 9  OH_NativeBuffer_Reference()已复制int32_t OH_NativeBuffer_Reference (OH_NativeBuffer * buffer) 描述： 将OH_NativeBuffer对象的引用计数加1 @syscap SystemCapability.Graphic.Graphic2D.NativeBuffer 参数：  Name  描述  buffer  一个指向OH_NativeBuffer实例的指针。     返回： 返回值为0表示执行成功。 起始版本： 9  OH_NativeBuffer_Unmap()已复制int32_t OH_NativeBuffer_Unmap (OH_NativeBuffer * buffer) 描述： 将OH_NativeBuffer对应的ION内存从进程空间移除 @syscap SystemCapability.Graphic.Graphic2D.NativeBuffer 参数：  Name  描述  buffer  一个指向OH_NativeBuffer实例的指针     返回： 返回值为0表示执行成功。 起始版本： 9  OH_NativeBuffer_Unreference()已复制int32_t OH_NativeBuffer_Unreference (OH_NativeBuffer * buffer) 描述： 将OH_NativeBuffer对象的引用计数减1，当引用计数为0的时候，该NativeBuffer对象会被析构掉 @syscap SystemCapability.Graphic.Graphic2D.NativeBuffer 参数：  Name  描述  buffer  一个指向OH_NativeBuffer实例的指针     返回： 返回值为0表示执行成功。 起始版本： 9   上一篇 NativeWindow 下一篇 Drawing 以上内容对您是否有帮助？毫无帮助帮助不大一般很好非常好意见反馈
更多帮助请到“社区论坛”，如需要其他帮助，请通过“智能客服”提问。