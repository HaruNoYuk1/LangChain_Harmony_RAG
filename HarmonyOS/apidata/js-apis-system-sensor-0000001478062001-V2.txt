您正在浏览HarmonyOS开发者3.1/4.0版本配套的开发者文档，对应API能力级别为API 9 Release，详细版本配套关系请参考版本说明。导入模块sensor.subscribeAccelerometersensor.unsubscribeAccelerometersensor.subscribeCompasssensor.unsubscribeCompasssensor.subscribeProximitysensor.unsubscribeProximitysensor.subscribeLightsensor.unsubscribeLightsensor.subscribeStepCountersensor.unsubscribeStepCountersensor.subscribeBarometersensor.unsubscribeBarometersensor.subscribeHeartRatesensor.unsubscribeHeartRatesensor.subscribeOnBodyStatesensor.unsubscribeOnBodyStatesensor.getOnBodyStatesensor.subscribeDeviceOrientation6+sensor.unsubscribeDeviceOrientation6+sensor.subscribeGyroscope6+sensor.unsubscribeGyroscope6+subscribeAccelerometerOptionsAccelerometerResponseSubscribeCompassOptionsCompassResponseSubscribeProximityOptionsProximityResponseSubscribeLightOptionsLightResponseSubscribeStepCounterOptionsStepCounterResponseSubscribeBarometerOptionsBarometerResponseSubscribeHeartRateOptionsHeartRateResponseSubscribeOnBodyStateOptionsOnBodyStateResponseGetOnBodyStateOptionsSubscribeDeviceOrientationOptions6+DeviceOrientationResponse6+SubscribeGyroscopeOptions6+GyroscopeResponse6+@system.sensor (传感器) 更新时间: 2024-03-18 17:33 毫无帮助帮助不大一般很好非常好
分享
 sensor模块提供订阅传感器数据基本能力，主要包含查询传感器的列表、订阅/取消传感器的数据、执行控制命令等。 根据传感器的用途，可以将传感器分为六大类：运动类传感器、环境类传感器、方向类传感器、光线类传感器、健康类传感器、其他类传感器（如霍尔传感器），每一大类传感器包含不同类型的传感器，某种类型的传感器可能是单一的物理传感器，也可能是由多个物理传感器复合而成。 
说明
从API Version 8开始，该接口不再维护，推荐使用新接口@ohos.sensor。本模块首批接口从API version 3开始支持。后续版本的新增接口，采用上角标单独标记接口的起始版本。该功能使用需要对应硬件支持，仅支持真机调试。 
 导入模块已复制import sensor from '@system.sensor';  sensor.subscribeAccelerometersubscribeAccelerometer(options: subscribeAccelerometerOptions): void 观察加速度数据变化。针对同一个应用，多次点击调用时，会覆盖前面的调用效果，即仅最后一次调用生效。 系统能力：SystemCapability.Sensors.Sensor 需要权限：ohos.permission.ACCELEROMETER，该权限为系统权限 参数： 参数名  类型  必填  说明    options  subscribeAccelerometerOptions  是  监听加速度传感器数据的回调函数的执行频率。     示例： 已复制sensor.subscribeAccelerometer({  interval: 'normal',  success: function(ret) {    console.log('X-axis data: ' + ret.x);    console.log('Y-axis data: ' + ret.y);    console.log('Z-axis data: ' + ret.z);  },  fail: function(data, code) {    console.error('Subscription failed. Code: ' + code + '; Data: ' + data);  },}); 
说明
建议在页面销毁时，即onDestroy回调中，取消数据订阅，避免不必要的性能开销。 
  sensor.unsubscribeAccelerometerunsubscribeAccelerometer(): void 取消订阅加速度数据。 系统能力：SystemCapability.Sensors.Sensor 需要权限：ohos.permission.ACCELEROMETER，该权限为系统权限 示例： 已复制sensor.unsubscribeAccelerometer();  sensor.subscribeCompasssubscribeCompass(options: SubscribeCompassOptions): void 订阅罗盘数据变化。针对同一个应用，多次点击调用时，会覆盖前面的调用效果，即仅最后一次调用生效。 系统能力：SystemCapability.Sensors.Sensor 参数： 参数名  类型  必填  说明    options  SubscribeCompassOptions  是  当罗盘传感器数据发生变化时调用。     示例： 已复制sensor.subscribeCompass({  success: function(ret) {    console.log('Get data direction:' + ret.direction);  },  fail: function(data, code) {    console.error('Subscription failed. Code: ' + code + '; Data: ' + data);  },}); 
说明
建议在页面销毁时，即onDestroy回调中，取消数据订阅，避免不必要的性能开销。 
  sensor.unsubscribeCompassunsubscribeCompass(): void 取消订阅罗盘。 系统能力：SystemCapability.Sensors.Sensor 示例： 已复制sensor.unsubscribeCompass();  sensor.subscribeProximitysubscribeProximity(options: SubscribeProximityOptions): void 订阅距离感应数据变化。针对同一个应用，多次点击调用时，会覆盖前面的调用效果，即仅最后一次调用生效。 系统能力：SystemCapability.Sensors.Sensor 参数： 参数名  类型  必填  说明    options  SubscribeProximityOptions  是  当距离传感器数据发生变化时调用。     示例： 已复制sensor.subscribeProximity({  success: function(ret) {    console.log('Get data distance:' + ret.distance);  },  fail: function(data, code) {    console.error('Subscription failed. Code: ' + code + '; Data: ' + data);  },}); 
说明
建议在页面销毁时，即onDestroy回调中，取消数据订阅，避免不必要的性能开销。 
  sensor.unsubscribeProximityunsubscribeProximity(): void 取消订阅距离感应。 系统能力：SystemCapability.Sensors.Sensor 示例： 已复制sensor.unsubscribeProximity();  sensor.subscribeLightsubscribeLight(options: SubscribeLightOptions): void 订阅环境光线感应数据变化。再次调用时，会覆盖前一次调用效果，即仅最后一次调用生效。 系统能力：SystemCapability.Sensors.Sensor 参数： 参数名  类型  必填  说明    options  SubscribeLightOptions  是  当环境光传感器数据发生变化时调用。     示例： 已复制sensor.subscribeLight({  success: function(ret) {    console.log('Get data intensity:' + ret.intensity);  },  fail: function(data, code) {    console.error('Subscription failed. Code: ' + code + '; Data: ' + data);  },}); 
说明
建议在页面销毁时，即onDestroy回调中，取消数据订阅，避免不必要的性能开销。 
  sensor.unsubscribeLightunsubscribeLight(): void 取消订阅环境光线感应。 系统能力：SystemCapability.Sensors.Sensor 示例： 已复制sensor.unsubscribeLight();  sensor.subscribeStepCountersubscribeStepCounter(options: SubscribeStepCounterOptions): void 订阅计步传感器数据变化。针对同一个应用，多次点击调用时，会覆盖前面的调用效果，即仅最后一次调用生效。 系统能力：SystemCapability.Sensors.Sensor 需要权限：ohos.permission.ACTIVITY_MOTION 参数： 参数名  类型  必填  说明    options  SubscribeStepCounterOptions  是  当步进计数器传感器数据发生变化时调用。     示例： 已复制sensor.subscribeStepCounter({  success: function(ret) {    console.log('Get step value:' + ret.steps);  },  fail: function(data, code) {    console.log('Subscription failed. Code: ' + code + '; Data: ' + data);  },}); 
说明
建议在页面销毁时，即onDestroy回调中，取消数据订阅，避免不必要的性能开销。 
  sensor.unsubscribeStepCounterunsubscribeStepCounter(): void 取消订阅计步传感器。 系统能力：SystemCapability.Sensors.Sensor 需要权限：ohos.permission.ACTIVITY_MOTION 示例： 已复制sensor.unsubscribeStepCounter();  sensor.subscribeBarometersubscribeBarometer(options: SubscribeBarometerOptions): void 订阅气压计传感器数据变化。针对同一个应用，多次点击调用时，会覆盖前面的调用效果，即仅最后一次调用生效。 系统能力：SystemCapability.Sensors.Sensor 参数： 参数名  类型  必填  说明    options  SubscribeBarometerOptions  是  当气压计传感器数据发生变化时调用。     示例： 已复制sensor.subscribeBarometer({  success: function(ret) {    console.log('Get data value:' + ret.pressure);  },  fail: function(data, code) {    console.log('Subscription failed. Code: ' + code + '; Data: ' + data);  },}); 
说明
建议在页面销毁时，即onDestroy回调中，取消数据订阅，避免不必要的性能开销。 
  sensor.unsubscribeBarometerunsubscribeBarometer(): void 取消订阅气压计传感器。 系统能力：SystemCapability.Sensors.Sensor 示例： 已复制sensor.unsubscribeBarometer();  sensor.subscribeHeartRatesubscribeHeartRate(options: SubscribeHeartRateOptions): void 订阅心率传感器数据变化。针对同一个应用，多次点击调用时，会覆盖前面的调用效果，即仅最后一次调用生效。 系统能力：SystemCapability.Sensors.Sensor 需要权限：ohos.permission.READ_HEALTH_DATA 参数： 参数名  类型  必填  说明    options  SubscribeHeartRateOptions  是  当心率传感器数据发生变化时调用。     示例： 已复制sensor.subscribeHeartRate({  success: function(ret) {    console.log('Get heartrate value:' + ret.heartRate);  },  fail: function(data, code) {    console.log('Subscription failed. Code: ' + code + '; Data: ' + data);  },}); 
说明
建议在页面销毁时，即onDestroy回调中，取消数据订阅，避免不必要的性能开销。 
  sensor.unsubscribeHeartRateunsubscribeHeartRate(): void 取消订阅心率传感器。 系统能力：SystemCapability.Sensors.Sensor 需要权限：ohos.permission.READ_HEALTH_DATA 示例： 已复制sensor.unsubscribeHeartRate();  sensor.subscribeOnBodyStatesubscribeOnBodyState(options: SubscribeOnBodyStateOptions): void 订阅设备佩戴状态。针对同一个应用，多次点击调用时，会覆盖前面的调用效果，即仅最后一次调用生效。 系统能力：SystemCapability.Sensors.Sensor 参数： 参数名  类型  必填  说明    options  SubscribeOnBodyStateOptions  是  当穿着状态改变时调用。     示例： 已复制sensor.subscribeOnBodyState({  success: function(ret) {    console.log('Get on-body state value:' + ret.value);  },  fail: function(data, code) {    console.log('Subscription failed. Code: ' + code + '; Data: ' + data);  },}); 
说明
建议在页面销毁时，即onDestroy回调中，取消数据订阅，避免不必要的性能开销。 
  sensor.unsubscribeOnBodyStateunsubscribeOnBodyState(): void 取消订阅设备佩戴状态。 系统能力：SystemCapability.Sensors.Sensor 示例： 已复制sensor.unsubscribeOnBodyState();  sensor.getOnBodyStategetOnBodyState(options: GetOnBodyStateOptions): void 获取设备佩戴状态。 系统能力：SystemCapability.Sensors.Sensor 参数： 参数名  类型  必填  说明    options  GetOnBodyStateOptions  是  获取传感器磨损状态时调用。     示例： 已复制sensor.getOnBodyState({  success: function(ret) {    console.log('On body state: ' + ret.value);  },  fail: function(data, code) {    console.log('Subscription failed. Code: ' + code + '; Data: ' + data);  },});  sensor.subscribeDeviceOrientation6+subscribeDeviceOrientation(options: SubscribeDeviceOrientationOptions): void 观察设备方向传感器数据变化。 针对同一个应用，多次点击调用时，会覆盖前面的调用效果，即仅最后一次调用生效；针对同一个方法内，不支持多次调用。 系统能力：SystemCapability.Sensors.Sensor 参数： 参数名  类型  必填  说明    options  SubscribeDeviceOrientationOptions  是  用于监听设备方向传感器数据的回调函数的执行频率。     示例： 已复制sensor.subscribeDeviceOrientation({  interval: 'normal',  success: function(ret) {    console.log('Alpha data: ' + ret.alpha);    console.log('Beta data: ' + ret.beta);    console.log('Gamma data: ' + ret.gamma);  },  fail: function(data, code) {    console.error('Subscription failed. Code: ' + code + '; Data: ' + data);  }}); 
说明
建议在页面销毁时，即onDestroy回调中，取消数据订阅，避免不必要的性能开销。 
  sensor.unsubscribeDeviceOrientation6+unsubscribeDeviceOrientation(): void 取消订阅设备方向传感器数据。 系统能力：SystemCapability.Sensors.Sensor 示例： 已复制sensor.unsubscribeDeviceOrientation();  sensor.subscribeGyroscope6+subscribeGyroscope(options: SubscribeGyroscopeOptions): void 观察陀螺仪传感器数据变化。 针对同一个应用，多次点击调用时，会覆盖前面的调用效果，即仅最后一次调用生效；针对同一个方法内，不支持多次调用。 系统能力：SystemCapability.Sensors.Sensor 需要权限：ohos.permission.GYROSCOPE，该权限为系统权限 参数： 参数名  类型  必填  说明    options  SubscribeGyroscopeOptions  是  用于侦听陀螺仪传感器数据的回调函数的执行频率。     示例： 已复制sensor.subscribeGyroscope({  interval: 'normal',  success: function(ret) {    console.log('X-axis data: ' + ret.x);    console.log('Y-axis data: ' + ret.y);    console.log('Z-axis data: ' + ret.z);  },  fail: function(data, code) {    console.error('Subscription failed. Code: ' + code + '; data: ' + data);  }}); 
说明
建议在页面销毁时，即onDestroy回调中，取消数据订阅，避免不必要的性能开销。 
  sensor.unsubscribeGyroscope6+unsubscribeGyroscope(): void 取消订阅陀螺仪传感器数据。 系统能力：SystemCapability.Sensors.Sensor 需要权限：ohos.permission.GYROSCOPE，该权限为系统权限 示例： 已复制sensor.unsubscribeGyroscope();  subscribeAccelerometerOptions用于监听加速度传感器数据的回调函数的执行频率。 需要权限：ohos.permission.ACCELEROMETER 系统能力：SystemCapability.Sensors.Sensor 名称  类型  必填  说明    interval  string  是  频率参数，加速度的回调函数执行频率。 默认为normal，可选值有： - game：极高的回调频率，20ms/次，适用于游戏。 - ui：较高的回调频率，60ms/次，适用于UI更新。 - normal：普通的回调频率，200ms/次，低功耗。   success  AccelerometerResponse  是  感应到加速度数据变化后的回调函数。   fail  Function  否  接口调用失败的回调函数。      AccelerometerResponse感应到加速度数据变化后的回调函数。 需要权限：ohos.permission.ACCELEROMETER 系统能力：SystemCapability.Sensors.Sensor 名称  类型  必填  说明    x  number  是  x轴的加速度。   y  number  是  y轴的加速度。   z  number  是  z轴的加速度。      SubscribeCompassOptions当罗盘传感器数据发生变化时调用。 系统能力：SystemCapability.Sensors.Sensor 名称  类型  必填  说明    success  CompassResponse  是  罗盘数据改变后触发的回调函数。   fail  Function  否  接口调用失败的回调函数。      CompassResponse罗盘数据改变后触发的回调函数。 系统能力：SystemCapability.Sensors.Sensor 名称  类型  必填  说明    direction  number  是  设备面对的方向度数。      SubscribeProximityOptions当距离传感器数据发生变化时调用。 系统能力：SystemCapability.Sensors.Sensor 名称  类型  必填  说明    success  ProximityResponse  是  距离感应数据改变后调用的回调函数。   fail  Function  否  接口调用失败的回调函数。      ProximityResponse距离感应数据改变后调用的回调函数。 系统能力：SystemCapability.Sensors.Sensor 名称  类型  必填  说明    distance  number  是  可见物体相对于设备显示屏的接近或远离状态。      SubscribeLightOptions当环境光传感器数据发生变化时调用。 系统能力：SystemCapability.Sensors.Sensor 名称  类型  必填  说明    success  LightResponse  是  光线感应数据改变后的回调函数。   fail  Function  否  接口调用失败的回调函数。      LightResponse光线感应数据改变后的回调函数。 系统能力：SystemCapability.Sensors.Sensor 名称  类型  必填  说明    intensity  number  是  光线强度，单位为lux。      SubscribeStepCounterOptions当步进计数器传感器数据发生变化时调用。 需要权限：ohos.permission.ACTIVITY_MOTION 系统能力：SystemCapability.Sensors.Sensor 名称  类型  必填  说明    success  StepCounterResponse  是  计步传感器数据改变后的回调函数。   fail  Function  否  接口调用失败的回调函数。      StepCounterResponse计步传感器数据改变后的回调函数。 需要权限：ohos.permission.ACTIVITY_MOTION 系统能力：SystemCapability.Sensors.Sensor 名称  类型  必填  说明    steps  number  是  计步传感器重启后累计记录的步数。      SubscribeBarometerOptions当气压计传感器数据发生变化时调用。 系统能力：SystemCapability.Sensors.Sensor 名称  类型  必填  说明    success  BarometerResponse  是  气压计传感器数据改变后的回调函数。   fail  Function  否  接口调用失败的回调函数。      BarometerResponse气压计传感器数据改变后的回调函数。 系统能力：SystemCapability.Sensors.Sensor 名称  类型  必填  说明    pressure  number  是  气压值，单位：帕斯卡。      SubscribeHeartRateOptions当心率传感器数据发生变化时调用。 需要权限：ohos.permission.READ_HEALTH_DATA 系统能力：SystemCapability.Sensors.Sensor 名称  类型  必填  说明    success  HeartRateResponse  是  心率传感器数据改变后的回调函数，默认频率5s/次。   fail  Function  否  接口调用失败的回调函数。      HeartRateResponse心率传感器数据改变后的回调函数，默认频率5s/次。 需要权限：ohos.permission.READ_HEALTH_DATA 系统能力：SystemCapability.Sensors.Sensor 名称  类型  必填  说明    heartRate  number  是  心率值。      SubscribeOnBodyStateOptions当穿着状态改变时调用。 系统能力：SystemCapability.Sensors.Sensor 名称  类型  必填  说明    success  OnBodyStateResponse  是  穿戴状态改变后的回调函数。   fail  Function  否  接口调用失败的回调函数。      OnBodyStateResponse传感器是否磨损。 系统能力：SystemCapability.Sensors.Sensor 名称  类型  必填  说明    value  boolean  是  是否已佩戴。      GetOnBodyStateOptions获取传感器磨损状态时调用。 系统能力：SystemCapability.Sensors.Sensor 名称  类型  必填  说明    success  OnBodyStateResponse  否  接口调用成功的回调函数。   fail  Function  否  接口调用失败的回调函数。   complete  Function  否  接口调用结束的回调函数。      SubscribeDeviceOrientationOptions6+用于监听设备方向传感器数据的回调函数的执行频率。 系统能力：SystemCapability.Sensors.Sensor 名称  类型  必填  说明    interval  string  是  频率参数，设备方向传感器的回调函数执行频率。 默认为normal，可选值有： - game：极高的回调频率，20ms/次，适用于游戏。 - ui：较高的回调频率，60ms/次，适用于UI更新。 - normal：普通的回调频率，200ms/次，低功耗。   success  DeviceOrientationResponse  是  感应到设备方向传感器数据变化后的回调函数。   fail  Function  否  接口调用失败的回调函数。      DeviceOrientationResponse6+感应到设备方向传感器数据变化后的回调函数。 系统能力：SystemCapability.Sensors.Sensor 名称  类型  必填  说明    alpha  number  是  当设备坐标 X/Y 和地球 X/Y 重合时，绕着 Z 轴转动的夹角为 alpha。   beta  number  是  当设备坐标 Y/Z 和地球 Y/Z 重合时，绕着 X 轴转动的夹角为 beta。   gamma  number  是  当设备 X/Z 和地球 X/Z 重合时，绕着 Y 轴转动的夹角为 gamma。      SubscribeGyroscopeOptions6+用于侦听陀螺仪传感器数据的回调函数的执行频率。 需要权限：ohos.permission.GYROSCOPE 系统能力：SystemCapability.Sensors.Sensor 名称  类型  必填  说明    interval  string  是  频率参数，陀螺仪的回调函数执行频率。 默认为normal，可选值有： - game：极高的回调频率，20ms/次，适用于游戏。 - ui：较高的回调频率，60ms/次，适用于UI更新。 - normal：普通的回调频率，200ms/次，低功耗。   success  GyroscopeResponse  是  感应到陀螺仪数据变化后的回调函数。   fail  Function  否  接口调用失败的回调函数。      GyroscopeResponse6+感应到陀螺仪传感器数据变化后的回调函数。 需要权限：ohos.permission.GYROSCOPE 系统能力：SystemCapability.Sensors.Sensor 名称  类型  必填  说明    x  number  是  x轴的旋转角速度。   y  number  是  y轴的旋转角速度。   z  number  是  z轴的旋转角速度。       上一篇 @system.router (页面路由) 下一篇 @system.storage (数据存储) 以上内容对您是否有帮助？毫无帮助帮助不大一般很好非常好意见反馈
更多帮助请到“社区论坛”，如需要其他帮助，请通过“智能客服”提问。